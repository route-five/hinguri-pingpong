import matplotlib.pyplot as plt

# 1) 여기에 주어진 데이터를 문자열로 넣으세요
data_str = """
    107.618927, 107.076187, 107.076187, 101.937569, 105.165359,
    102.407425, 104.053909, 98.682106, 92.3904724, 94.3018723,
    87.0627365, 87.4717941, 79.5368347, 79.4753494, 71.5351181,
    71.5351181, 64.5663605, 64.5663605, 58.5192337, 53.2226295,
    53.2226295, 49.0132637, 49.0132637, 45.0853462, 45.0853462,
    45.0853462, 45.0853462, 42.9035606, 42.9035606, 45.6171532,
    45.6171532, 48.6813812, 48.6813812, 51.5537071, 54.7130203,
    54.7130203, 57.9245491, 57.9245491, 60.9198532, 60.9198532,
    63.6784172, 63.6784172, 63.6784172, 63.6784172, 67.4531708,
    67.4531708, 68.1055908, 68.1055908, 67.9099274, 67.9099274,
    67.9099274, 64.9062119, 64.9062119, 62.2731285, 62.2731285,
    62.2731285, 62.2731285, 62.2731285, 62.2731285, 52.7289505,
    52.7289505, 49.7268219, 49.7268219, 46.6541138, 46.6541138,
    43.9273453, 41.3144073, 41.3144073, 41.3144073, 41.3144073,
    44.9318085, 44.9318085, 47.2443924, 47.2443924, 49.3764801,
    49.3764801, 51.3978539, 51.3978539, 46.1717148, 46.4505997,
    48.5897522, 49.0951538, 49.0951538, 49.4773178, 49.4773178,
    51.6283569, 51.6283569, 50.2875748, 50.2875748, 48.3469429,
    47.8359756, 45.7948647, 44.031456, 40.1591911, 38.98909, 37.8727264,
    36.8132515, 28.9805984, 24.5596142, 20.5643406, 15.5807552,
    8.77122593, 3.82355928, 3.82355928, 8.41885376, 14.4016743,
    18.5217743, 20.0825653, 26.673151, 27.660841, 31.7517357, 32.549015,
    34.8760147, 37.8830757, 38.2606773, 39.5215416, 39.8448372,
    40.5743332, 40.5743332, 40.2208633, 39.6614075, 38.3106422,
    37.7814674, 36.303833, 35.5972404, 33.4452286, 28.8814278,
    26.4951057, 21.381443, 19.7659512, 19.7659512, 15.8412266,
    11.7073107, 5.40984774, 4.59875774, 4.59875774, 14.6292562,
    14.6292562, 19.5404701, 19.5404701, 19.5404701, 27.6544228,
    28.2979965, 30.4623928, 30.7399845, 31.9229259, 32.1482468,
    32.3729095, 32.3729095, 31.7343502, 31.4511547, 30.1523495,
    29.7229366, 26.9156494, 26.0672359, 22.76758, 19.9916515, 17.343092,
    13.5167274, 10.3707733, 4.54935741, 4.09434462, 5.61212587,
    5.61212587, 13.7046204, 13.7046204, 16.4794769, 16.4794769,
    22.4844131, 24.7794685, 25.0845737, 26.2144356, 26.4315968,
    26.3614082, 26.3614082, 26.3284111, 26.3284111, 25.2632923,
    24.7259197, 23.1129036, 22.1957359, 19.4683475, 19.4683475,
    17.0111847, 17.0111847, 10.2044382, 5.26891851, 5.75445414,
    5.07867718, 8.96395969, 11.8603888, 13.5529966, 16.3125839,
    16.9561634, 17.4487305, 17.4487305, 21.5376205, 21.5376205,
    21.2765751, 20.9878674, 21.8890095, 20.8344154, 20.3151169,
    18.0786438, 17.3777218, 14.8140631, 14.8140631, 9.62696552,
    7.90626001, 4.99076271, 4.99076271, 7.27287912, 8.41851234,
    11.3641214, 12.1309328, 15.1372557, 16.8047237, 17.0548553,
    18.1813583, 18.1813583, 18.6062717, 18.3560734, 17.7247601,
    17.028595, 15.3178101, 14.459301, 13.1550894, 12.3436708, 7.54427338,
    4.75522804, 4.75522804, 4.75522804, 6.91810751, 10.5713015,
    11.2166739, 11.6812544, 12.0551033, 15.4173641, 15.4173641,
    15.9592896, 15.7452421, 15.2022209, 14.7805185, 13.5306654,
    13.5306654, 11.5236378, 10.5377846, 7.15870333, 7.15870333,
    3.82254434, 3.82254434, 7.48194695, 9.96614265, 10.4840193,
    12.4029207, 12.6740122, 13.5079079, 13.4379129, 13.65236, 13.65236,
    12.3733997, 12.3733997, 10.7338867, 8.0348711, 6.99326134,
    4.51188755, 4.51188755, 6.11696672, 6.11696672, 9.04498386,
    9.56825829, 11.0981922, 11.2717352, 11.9718885, 11.952117,
    12.0643349, 11.1050587, 10.6553421, 10.0402212, 8.06620884,
    5.0782752, 4.26315737, 3.66891074, 4.40183592, 7.09276342,
    7.62409544, 9.33034611, 9.4651289, 10.5422421, 10.5294857,
    10.4262609, 9.69099522, 9.69099522, -4.74178839, -4.74178839,
    3.83980775, 3.83980775, 4.53270435, 5.09331894, 7.40970516,
    7.40970516, 8.3693676, 8.98670483, 8.98670483, 8.81218243,
    8.81218243, 8.16701698, 8.16701698, 6.72241068, 6.72241068,
    5.74725389, 5.74725389, 5.74725389, 5.74725389, 8.59195614,
    8.59195614, 8.99936295, 8.99936295, 8.64449215, 8.07733631,
    8.07733631, 6.38107252, 6.38107252, 6.8697114, 6.8697114, 8.26021671,
    8.26021671, 8.86246109, 8.86246109, 9.07405758, 9.07405758,
    9.07405758, 7.21179295, 7.21179295, 6.64203596, 6.64203596,
    8.24496746, 8.24496746, 8.98893738, 8.98893738, 9.03857899,
    9.03857899, 8.55388355, 8.55388355, 7.19179821, 7.29377413,
    7.29377413, 8.75602436, 8.75602436, 9.24845314, 9.24845314,
    9.06421757, 9.06421757, 3.86246824, 3.62166715, 2.37684941,
    2.73543763, 4.40121794, 4.86753321, 4.88785648, 4.62385273,
    4.62385273, 2.72310758, 2.72310758, 2.85244846, 3.17835999,
    3.4475615, 3.60114598, 4.58649302, 4.42687082, 4.25481224,
    3.75972033, 3.18809152, 3.62644219, 3.98737264, 4.22127485,
    4.07811117, 4.17179632, 3.74161243, 3.02382469, 3.02382469,
    2.99831533, 2.95815015, 3.69757581, 3.44394994, 3.564358, 3.26270604,
    2.78071451, 3.13531327, 3.13531327, 3.65904546, 3.49226451,
    3.41419482, 3.02726793, 2.63075638, 2.72704601, 3.11290765,
    2.94116497, 3.26574826, 3.02266264, 2.32849693, 2.54288983,
    2.62341905, 3.26154256, 2.81939864, 2.40647268, 2.40647268
"""

# 2) 문자열을 리스트로 변환
data = [
    float(x) for x in data_str.replace('\n', ' ')
    .split(',')
    if x.strip()
]

# 3) 극댓값 찾기
peaks = [(i, data[i]) for i in range(1, len(data)-1)
         if data[i] >= data[i-1] and data[i] >= data[i+1]]
print("Peaks (index, value):")
for idx, val in peaks:
    print(idx, val)

# 4) 플롯 생성
plt.figure(figsize=(10, 4))
plt.scatter(range(len(data)), data, s=1)
plt.xlabel('Index')
plt.ylabel('Value')
plt.title('Data Visualization')
plt.grid(True, linestyle='--', alpha=0.5)
plt.tight_layout()
plt.show()